### 프로젝트 개요

> 안정적인 서버 구축과 하트비트 기반 서버 아키텍처 설계를 학습하기 위한 실전 프로젝트입니다
> Asio 기반의 전투시스템, 멀티 채널 구조, 게임룸 매칭, 재접속 복구, 하트비트 기반 상태 모니터링 시스템을 구현하며,
> 실제 운영 가능한 서버 구조 설계 및 배포 경험을 목표로 합니다.

- 시작일 : 2025.07.05
- 개발도구 : Visual Studio 2022 , C++ 20 , Asio


### 주요 기능
- 전투 시스템
  - 채널서버의 Redis Pub 메시지로 배틀서버의 GameRoom 생성 트리거를 보냅니다.
  - 채널서버는 준비가 완료되면 클라이언트에게 배틀서버의 주소를 건내줍니다.
  - 배틀서버는 Redis 기반 커스텀 토큰 기반으로 유저 접속 인증을 하고, 배틀룸으로 이관합니다.
  - 배틀 룸의 실시간 게임 루프를 통해 서버에서 모든 로직 처리, 클라이언트는 렌더링만 담당합니다.

- 멀티 채널 서버 구조
  - 유저가 여러 채널 중 하나에 접속
  - 각 채널에 대한 최대 수용인원 동적 산정
    - 브로드캐스트 처리 시간 측정을 통해 적정 채널 인원 수 자동 조절
  - 채널 인원 초과 시
    - 채널 입장 대기 큐 및 타임아웃 기반 재시도 / 실패 핸들링 로직 적용
      
- 게임룸 시스템
  - 유저가 매치메이킹 버튼 클릭시
    - 실시간 유저 상태 큐에 등록
    - 레벨 기반 매칭 알고리즘을 통해 게임룸 자동 배정
  - 대기 시간 증가 시 매칭 범위 완화(가중치)로 유연한 매칭 유도

- 재접속시 게임룸 찾기 시스템
  - 세션 연결 끊김 시 , SessionContext 객체를 보존하여 별도의 PendingSessionManager에 임시 저장
  - 동일 유저 ID 재접속시
    - 이전 게임룸 상태 조회 후 복귀
    - 게임이 종료된 상태라면 초기 로비 상태로 리다이렉션 

- 하트비트 기반 서버 모니터링 시스템
  - 각 서버 인스턴스는 주기적으로 중앙 관리 서버로 하트비트 패킷 전송
  - 중앙 하트비트 수신 서버에서 이상 지연/다운 감지
    - Failover 또는 알림 트리거 처리
    - Redis 등의 저장소를 활용하여 서버 복구시 데이터 리로딩


### 목표

#### DB 설계
- 위 4가지 기능을 위한 유저정보, 게임룸 상태, 세션 캐시 구조 등을 포함한 DB 설계
- Redis + MySQL 복합 사용 예정
    
#### CI/CD 경험
  - Github Actions 기반 CI 자동화
  - AWS EC2 환경에 직접 배포
  - 1일 단위 테스트 환경 구성 및 운영 로그 확인 
